(function(t){function e(e){for(var a,o,l=e[0],i=e[1],c=e[2],f=0,p=[];f<l.length;f++)o=l[f],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,l=1;l<r.length;l++){var i=r[l];0!==n[i]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},s=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=i;s.push([1,"chunk-vendors"]),r()})({0:function(t,e){},"034f":function(t,e,r){"use strict";var a=r("85ec"),n=r.n(a);n.a},1:function(t,e,r){t.exports=r("56d7")},2:function(t,e){},3:function(t,e){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("gcoord-view")],1)},s=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"gc-wrap"},[r("h2",[t._v("Gcoord地理坐标转换器"),r("el-tag",{staticClass:"power-tag"},[t._v("by:Sqing")])],1),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"tips"},[t._v("1. 本工具参考"),r("el-link",{attrs:{href:"https://github.com/hujiulong/gcoord",target:"_blank",type:"primary"}},[t._v("gcoord")])],1),r("div",{staticClass:"tips"},[t._v("2. 修正百度地图、高德地图及其它互联网地图坐标系不统一的问题")]),r("div",{staticClass:"tips"},[t._v("3. 支持转换坐标数组和GeoJson数据")])]),r("div",{staticClass:"tf-wrap"},[r("div",{staticClass:"singletf"},[r("el-card",{staticClass:"single-card"},[r("h2",[t._v("单一坐标数组转换")]),r("div",[r("el-tag",[t._v("FROM")]),r("el-select",{attrs:{label:"From:"},model:{value:t.s_from,callback:function(e){t.s_from=e},expression:"s_from"}},t._l(t.gcZB,(function(t,e){return r("el-option",{key:e,attrs:{value:t}})})),1)],1),r("div",[r("el-tag",[t._v("TO")]),r("el-select",{model:{value:t.s_to,callback:function(e){t.s_to=e},expression:"s_to"}},t._l(t.gcZB,(function(t,e){return r("el-option",{key:e,attrs:{value:t}})})),1)],1),r("div",[r("el-tag",[t._v("坐标")]),r("el-input",{staticClass:"el-input-data",attrs:{placeHolder:"经纬度，以,分隔"},model:{value:t.s_input,callback:function(e){t.s_input=e},expression:"s_input"}})],1),r("div",{staticClass:"tf-button"},[r("el-button",{attrs:{type:"primary"},on:{click:t.s_tf}},[t._v("转换")])],1),r("div",[r("el-tag",[t._v("转换结果")]),r("el-input",{staticClass:"el-input-data",attrs:{readonly:"",placeHolder:"经纬度，以,分隔"},model:{value:t.s_result,callback:function(e){t.s_result=e},expression:"s_result"}})],1)])],1),r("div",{staticClass:"multitf"},[r("el-card",{staticClass:"multi-card"},[r("h2",[t._v("批量坐标数组转换")]),r("div",[r("el-tag",[t._v("FROM")]),r("el-select",{attrs:{label:"From:"},model:{value:t.m_from,callback:function(e){t.m_from=e},expression:"m_from"}},t._l(t.gcZB,(function(t,e){return r("el-option",{key:e,attrs:{value:t}})})),1)],1),r("div",[r("el-tag",[t._v("TO")]),r("el-select",{model:{value:t.m_to,callback:function(e){t.m_to=e},expression:"m_to"}},t._l(t.gcZB,(function(t,e){return r("el-option",{key:e,attrs:{value:t}})})),1)],1),r("div",[r("el-tag",[t._v("坐标")]),r("el-upload",{ref:"upload",attrs:{accept:".xls,.xlsx",action:"./","on-change":t.readGFile,"auto-upload":!1}},[r("el-button",{attrs:{size:"small",type:"primary"}},[t._v("选取文件")])],1)],1),r("div",{staticClass:"tf-button"},[r("el-button",{attrs:{type:"primary"},on:{click:t.m_tf}},[t._v("转换")])],1)])],1)])],1)},l=[],i=(r("b0c0"),r("ac1f"),r("1276"),r("a6d4")),c=r("1146"),u=r.n(c),f={name:"GCView",created:function(){document.title="地理坐标系转换"},data:function(){return{gcZB:["WGS84","GCJ02","BD09","BD09LL","BD09MC","BD09Meter","Baidu","BMap","WebMercator","WGS1984","EPSG4326","EPSG3857","EPSG900913"],file:"",s_from:"",s_to:"",s_input:"",s_result:"",m_from:"",m_to:"",m_input:"",m_result:""}},methods:{s_tf:function(){try{var t=this.s_input.split(",");console.log(t);var e=[parseFloat(t[0]),parseFloat(t[1])];console.log(e),this.s_result=JSON.stringify(i["a"].transform(e,i["a"][this.s_from],i["a"][this.s_to]))}catch(r){this.$message.error("转换出错，请确认数据正确与否")}},readGFile:function(t){this.file={0:t.raw}},readExcel1:function(t){var e=this;if(t.length<=0)return!1;if(!/\.(xls|xlsx)$/.test(t[0].name.toLowerCase()))return this.$Message.error("上传格式不正确，请上传xls或者xlsx格式"),!1;var r=new FileReader;r.onload=function(r){try{var a=[],n=r.target.result,s=u.a.read(n,{type:"binary"}),o=s.SheetNames[0],l=u.a.utils.sheet_to_json(s.Sheets[o]);console.log(l);var c=l[0].__rowNum__;console.log(c);for(var f=0;f<l.length;f++)if(l[f].__rowNum__==c){var p=[l[f]["经度"],l[f]["纬度"]],_=i["a"].transform(p,i["a"][e.m_from],i["a"][e.m_to]);a.push({"经度_tf":_[0],"纬度_tf":_[1]}),c++}else a.push({"经度_tf":"","纬度_tf":""}),c+=2;var d=u.a.utils.json_to_sheet(a),v=u.a.utils.book_new();u.a.utils.book_append_sheet(v,d,"已转换_"+t[0].name.split(".")[0]),u.a.writeFile(v,"已转换_"+t[0].name.split(".")[0]+".xlsx"),e.$refs.upload.value=""}catch(m){e.$message.error("出错了，请检查数据")}},r.readAsBinaryString(t[0])},m_tf:function(){this.m_from&&this.m_to?this.readExcel1(this.file):this.$message.error("请选择坐标系")}}},p=f,_=(r("be7e"),r("2877")),d=Object(_["a"])(p,o,l,!1,null,"21b53685",null),v=d.exports,m={name:"App",components:{gcoordView:v}},g=m,h=(r("034f"),Object(_["a"])(g,n,s,!1,null,null,null)),b=h.exports,y=r("5c96"),x=r.n(y);r("0fae");a["default"].config.productionTip=!1,a["default"].use(x.a),new a["default"]({render:function(t){return t(b)}}).$mount("#app")},"85ec":function(t,e,r){},"8aa8":function(t,e,r){},be7e:function(t,e,r){"use strict";var a=r("8aa8"),n=r.n(a);n.a}});
//# sourceMappingURL=app.071f857f.js.map